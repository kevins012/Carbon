<nav class="tw-bg-white tw-shadow-md tw-h-screen tw-fixed tw-w-64 tw-z-50">
    <div class="tw-container mx-auto tw-flex tw-flex-col tw-p-4">
        <!-- Logo di atas -->
        <a class="tw-text-gray-800 tw-font-bold tw-text-2xl tw-mb-6" href="#">
            ğŸ” BackEnd
        </a>

        <!-- Navbar Items -->
        <div class="tw-flex tw-flex-col">
            <!-- Home, About, Contact, Vehicle, Visualize, Logout -->
            <a class="menu-item tw-flex tw-items-center tw-text-gray-800 tw-py-2 tw-px-4 tw-rounded tw-transition-all tw-duration-300 tw-mb-2 hover:tw-bg-gray-300" href="/" id="homeMenu">
                ğŸ  <span class="tw-ml-2">Home</span>
            </a>
            <a class="menu-item tw-flex tw-items-center tw-text-gray-800 tw-py-2 tw-px-4 tw-rounded tw-transition-all tw-duration-300 tw-mb-2 hover:tw-bg-gray-300" href="/about" id="aboutMenu">
                â„¹ï¸ <span class="tw-ml-2">About</span>
            </a>
            <a class="menu-item tw-flex tw-items-center tw-text-gray-800 tw-py-2 tw-px-4 tw-rounded tw-transition-all tw-duration-300 tw-mb-2 hover:tw-bg-gray-300" href="/contact" id="contactMenu">
                ğŸ“ <span class="tw-ml-2">Contact</span>
            </a>
            <% if (role =='users') { %>
                <a class="menu-item tw-flex tw-items-center tw-text-gray-800 tw-py-2 tw-px-4 tw-rounded tw-transition-all tw-duration-300 tw-mb-2 hover:tw-bg-gray-300" href="/vehicle" id="vehicleMenu">
                    ğŸš— <span class="tw-ml-2">Vehicles</span>
                </a>
             
            <% }
            else{ %>
                <a class="menu-item tw-flex tw-items-center tw-text-gray-800 tw-py-2 tw-px-4 tw-rounded tw-transition-all tw-duration-300 tw-mb-2 hover:tw-bg-gray-300" href="/users" id="vehicleMenu">
                    ğŸš— <span class="tw-ml-2">All Users</span>
                </a>
                <% } %>
            
            <a class="menu-item tw-flex tw-items-center tw-text-gray-800 tw-py-2 tw-px-4 tw-rounded tw-transition-all tw-duration-300 tw-mb-2 hover:tw-bg-gray-300" href="http://localhost:8501/" id="visualizeMenu">
                ğŸ“Š <span class="tw-ml-2">Visualize</span>
            </a>

            <!-- Profile Menu -->
            <div class="tw-relative tw-mb-2">
                <button class="menu-item tw-flex tw-items-center tw-text-gray-800 tw-py-2 tw-px-4 tw-rounded tw-transition-all tw-duration-300 hover:tw-bg-gray-300" id="profileMenuButton">
                    ğŸ‘¤ <span class="tw-ml-2">Profile</span> <i class="tw-ml-auto tw-bi tw-bi-chevron-down"></i>
                </button>
                <div id="profileMenu" class="tw-hidden tw-pl-4 tw-bg-gray-100 tw-rounded tw-mt-2 tw-shadow-md">
                    <a class="tw-block tw-text-gray-800 tw-py-2 tw-px-4 tw-rounded hover:tw-bg-gray-200" href="/profile/view">View Profile</a>
                    <a class="tw-block tw-text-gray-800 tw-py-2 tw-px-4 tw-rounded hover:tw-bg-gray-200" href="/profile/edit">Edit Profile</a>
                </div>
            </div>

            <!-- Settings Menu -->
            <div class="tw-relative tw-mb-2">
                <button class="menu-item tw-flex tw-items-center tw-text-gray-800 tw-py-2 tw-px-4 tw-rounded tw-transition-all tw-duration-300 hover:tw-bg-gray-300" id="settingsMenuButton">
                    âš™ï¸ <span class="tw-ml-2">Settings</span> <i class="tw-ml-auto tw-bi tw-bi-chevron-down"></i>
                </button>
                <div id="settingsMenu" class="tw-hidden tw-pl-4 tw-bg-gray-100 tw-rounded tw-mt-2 tw-shadow-md">
                    <a class="tw-block tw-text-gray-800 tw-py-2 tw-px-4 tw-rounded hover:tw-bg-gray-200" href="/settings/account">Account Settings</a>
                    <a class="tw-block tw-text-gray-800 tw-py-2 tw-px-4 tw-rounded hover:tw-bg-gray-200" href="/settings/privacy">Privacy Settings</a>
                </div>
            </div>

            <!-- Logout -->
            <a class="menu-item tw-flex tw-items-center tw-text-gray-800 tw-py-2 tw-px-4 tw-rounded tw-transition-all tw-duration-300 hover:tw-bg-gray-300" href="/logout" id="logoutMenu">
                ğŸšª <span class="tw-ml-2">Logout</span>
            </a>
        </div>
    </div>
</nav>

<script>
    // Toggle Profile and Settings Menu
    const profileMenuButton = document.getElementById('profileMenuButton');
    const profileMenu = document.getElementById('profileMenu');
    const settingsMenuButton = document.getElementById('settingsMenuButton');
    const settingsMenu = document.getElementById('settingsMenu');

    // Fungsi untuk menampilkan/menyembunyikan menu
    profileMenuButton.addEventListener('click', () => {
        profileMenu.classList.toggle('tw-hidden');
        settingsMenu.classList.add('tw-hidden'); // Tutup Settings jika terbuka
    });

    settingsMenuButton.addEventListener('click', () => {
        settingsMenu.classList.toggle('tw-hidden');
        profileMenu.classList.add('tw-hidden'); // Tutup Profile jika terbuka
    });

    // Warna aktif dan hover
    function setActiveMenu(menuId) {
        document.querySelectorAll('.menu-item').forEach(item => {
            item.classList.remove('tw-bg-blue-500', 'tw-text-white');
            item.classList.add('tw-text-gray-800', 'hover:tw-bg-gray-300');
        });
        document.getElementById(menuId).classList.add('tw-bg-blue-500', 'tw-text-white');
    }

    // Atur menu aktif berdasarkan URL
    function setActiveMenuByUrl() {
        const currentUrl = window.location.pathname;
        document.querySelectorAll('.menu-item').forEach(item => {
            if (item.getAttribute('href') === currentUrl) {
                item.classList.add('tw-bg-blue-500', 'tw-text-white');
            }
        });
    }

    // Panggil fungsi saat halaman dimuat
    setActiveMenuByUrl();
</script>
